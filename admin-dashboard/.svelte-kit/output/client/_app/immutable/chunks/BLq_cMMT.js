import{n as N,h,a as m,E as x,o as D,H as R,p as q,s as C,q as y,t as F,v as A,w as L,U as B,x as H,y as O,z as U,A as Y,B as w,C as z,d as M,D as P,S as Z}from"./Ds4fwPmf.js";function G(s,f,l=!1){h&&m();var i=s,e=null,a=null,r=B,b=l?x:0,d=!1;const g=(c,t=!0)=>{d=!0,v(t,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?e:a,t=r?a:e;c&&O(c),t&&U(t,()=>{r?a=null:e=null})}const v=(c,t)=>{if(r===(r=c))return;let p=!1;if(h){const I=D(i)===R;!!r===I&&(i=q(),C(i),y(!1),p=!0)}var T=H(),u=i;if(T&&(n=document.createDocumentFragment(),n.append(u=F())),r?e??(e=t&&A(()=>t(u))):a??(a=t&&A(()=>t(u))),T){var _=L,E=r?e:a,k=r?a:e;E&&_.skipped_effects.delete(E),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();p&&y(!0)};N(()=>{d=!1,f(g),d||v(null,null)},b),h&&(i=Y)}function S(s,f){return s===f||(s==null?void 0:s[Z])===f}function J(s={},f,l,i){return w(()=>{var e,a;return z(()=>{e=a,a=[],M(()=>{s!==l(...a)&&(f(s,...a),e&&S(l(...e),s)&&f(null,...e))})}),()=>{P(()=>{a&&S(l(...a),s)&&f(null,...a)})}}),s}export{J as b,G as i};
